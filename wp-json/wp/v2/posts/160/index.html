{"id":160,"date":"2013-01-12T19:05:04","date_gmt":"2013-01-12T14:05:04","guid":{"rendered":"http:\/\/18.139.242.7\/2013\/01\/12\/accurately-integrate-paypal-with-google-analytics-ecommerce\/"},"modified":"2013-01-12T19:05:04","modified_gmt":"2013-01-12T14:05:04","slug":"accurately-integrate-paypal-with-google-analytics-ecommerce","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/accurately-integrate-paypal-with-google-analytics-ecommerce\/","title":{"rendered":"Missing Transactions? Improve accuracy of Paypal and GA Ecommerce integration"},"content":{"rendered":"<blockquote>\n<p>checkout the end of post for an easier method. \ud83d\ude42<\/p>\n<\/blockquote>\n<p>Usually when we need to implement google analytics for a site using 3rd party hosting shopping cart it&#8217;s simple enough.&nbsp;The general method to achieve this is to do cross-domain tracking.&nbsp;This requires a little code change to tell google analytics to send cookie information of the visitor to the checkout domain.<\/p>\n<p>Because Paypal does not allow you to add analytics tracking to its pages we can&#8217;t use cross domain tracking, instead we have to wait for a user to come back to the site and then trigger a sale.<\/p>\n<p>There&#8217;s a simple method using Paypal PDT to do this once the user completes the purchase through PayPal and returns to the site order information from PayPal is retrieved, ecommerce tracking is triggered and sales information is sent to Google. &nbsp;In about 85-90% of cases, user returns to the site successfully and we can trigger a transaction. But those 10-15 % of times a user closes the page after completing the order, is where the trouble lies. That&#8217;s a lot of information about customers getting lost. This is exactly the problem we faced recently.<\/p>\n<p>To get around this, we built an alternate 100% accurate tool using &nbsp;Paypal IPN API, &nbsp;we can use it to trigger a sale regardless of whether a customer comes back to the site or not.<\/p>\n<p><!--more--><\/p>\n<p>To make this work we started with identifying a user when they leave for PayPal to make a purchase. This is essential because we need to be able to connect a user&#8217;s initial behavior [where they came from, what they clicked etc] with the final purchase. Because the user may or may not come back its essential to have a way to identify users.<\/p>\n<p>Second, we configured IPN to send alerts whenever a transaction was completed. Using the information from the transaction and the unique identifier we configured in the first we had all the data we needed to tell Google Analytics about the order.<\/p>\n<p>Now all we needed to send this information to GA. That was done using a PHP based version of GA, that allowed us to send all the data to google analytics as they came in.<\/p>\n<p>The end result is a completely accurate google analytics ecommerce integration with Paypal. For an added bonus this can also be used to process refunds \ud83d\ude42 and even recurring orders.<\/p>\n<p>If the site is new and just starting out the first solution using PDT should be enough, but for a big enough 10-15% of Paypal orders means losing out on a lot of insights and that&#8217;s where something like this would come in very handy.<\/p>\n<p>      <a href=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2018\/06\/DesignityourselfCaseStudy.pdf\" target=\"_blank\" rel=\"noopener noreferrer\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/attribution-modeling.png\" alt=\" enhanced ecommerce tracking google analytics \"\/><\/a><\/p>\n<p>\u00a0<\/p>\n<p>&nbsp;Ps. We ended up writing a very neat tool in a recent hackathon that could be integrated into almost any site or even work with other 3rd party solutions like Clickbank, Worldpay. It turned out to be a fun exercise helping us quickly master Paypal ipn, curse Paypal&#8217;s documentation and use some server-side google analytics tools.<\/p>\n<p><strong>Need help with enhanced <\/strong><strong>ecommerce<\/strong><strong> tracking?<\/strong><\/p>\n<p>check out <a href=\"https:\/\/marketlytics.com\/analytics-for-ecommerce\">how we can help<\/a> you see actions in your data.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>If you are missing transactions and sales from paypal in google analytics ecommerce tracking. This post will help explain why and possible ideas to fix it.<\/p>\n","protected":false},"author":5,"featured_media":162,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3,5],"tags":[49,61,85,91],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/160"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=160"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/160\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/162"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=160"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=160"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=160"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}