{"id":470,"date":"2018-06-19T11:15:23","date_gmt":"2018-06-19T06:15:23","guid":{"rendered":"http:\/\/18.139.242.7\/2018\/06\/19\/google-analytics-ecommerce-tracking-bigcommerce\/"},"modified":"2022-10-25T11:36:05","modified_gmt":"2022-10-25T11:36:05","slug":"google-analytics-ecommerce-tracking-bigcommerce","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/google-analytics-ecommerce-tracking-bigcommerce\/","title":{"rendered":"Google Analytics Ecommerce Tracking Bigcommerce with Google Tag Manager"},"content":{"rendered":"\n<p>Even though it\u2019s possible to set up ecommerce tracking in Bigcommerce using Google Analytics, it sometimes isn\u2019t quite enough to meet your requirements. That\u2019s when we turn to Google Tag Manager. If you don\u2019t know what Google Tag Manager does, do feel free to hop on over to this <a href=\"https:\/\/marketlytics.com\/blog\/what-does-google-tag-manager-do\">article<\/a>, to learn more about it.<\/p>\n\n\n\n<p>Now then, let\u2019s get right into it, shall we?<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Setting up Google Tag Manager<\/strong><\/h2>\n\n\n\n<p>Heads up! This step revolves around creating a Google Tag Manager account. Nothing else I swear. So if you already have one, you may skip this.<\/p>\n\n\n\n<p>1. Enter <a href=\"https:\/\/tagmanager.google.com\" target=\"_blank\" rel=\"noopener noreferrer\">tagmanager.google.com<\/a> in your browser<\/p>\n\n\n\n<p>2. Enter your account name, select country, add website URL, and select Web to use the container.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1.-create-gtm-account.png\" alt=\" create a new tag manager account \"\/><\/figure><\/div>\n\n\n<p>3. Click on create and accept the Terms of Service. You will then see the GTM tracking code jump right at you, in a pop-up window.<\/p>\n\n\n\n<figure class=\"wp-block-image\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/2.-tag-manager-code.png\" alt=\" tag manager code \"\/><\/figure>\n\n\n\n<p>Now what you do, is copy the code from the first container.<\/p>\n\n\n\n<p>Done? Great! Simple right?<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Add Google Tag Manager Code in Bigcommerce<\/strong><\/h2>\n\n\n\n<p>Now, log in to your Bigcommerce account and from the left menu, navigate to <strong>Advanced Settings &gt;&gt; Web Analytics<\/strong> as shown in the image below.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/3.-web-analytics.png\" alt=\" goto web analytics Bigcommerce \"\/><\/figure><\/div>\n\n\n<p>Check the Google Analytics checkbox under general settings<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/4-enable-analytics.png\" alt=\" enable Google Analytics Bigcommerce \"\/><\/figure><\/div>\n\n\n<p>With me so far? Now, click the Google Analytics tab that appears on top of the page and paste the GTM code you copied earlier, in the tracking code field. Then, save the changes.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/5-add-gtm-bigcommerce.png\" alt=\" Add GTM in Bigcommerce \"\/><\/figure><\/div>\n\n\n<p>The next step is to connect your Google Tag Manager account with Google Analytics. We already have covered this topic in a previous article, you can read it <a href=\"https:\/\/marketlytics.com\/analytics-faq\/install-google-analytics-using-tag-manager\">here<\/a>.<\/p>\n\n\n\n<p>If you leave this as it is here, you should be able to track your website traffic in Google Analytics, if you\u2019ve managed to not mess up any of the steps. &nbsp;The next part deals with sending off the transaction data, to Google Analytics, via The GTM.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Adding Ecommerce Code <\/strong><\/h2>\n\n\n\n<p>Since the Google Tag Manager uses data layer to collect data, you will have to push the transaction details to the data layer, This requires a good grip on JavaScript and an understanding of ecommerce tracking.<\/p>\n\n\n\n<p>Simply copy the below code and paste it before Google Tag Manager code you added in Bigcommerce in the previous step.<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-tag cm-bracket\">&lt;<\/span><span class=\"cm-tag\">script<\/span> <span class=\"cm-attribute\">type<\/span>=<span class=\"cm-string\">\"text\/javascript\"<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<span class=\"cm-variable\">window<\/span>.<span class=\"cm-property\">dataLayer<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable\">window<\/span>.<span class=\"cm-property\">dataLayer<\/span><span class=\"cm-operator\">||<\/span>[];\n<span class=\"cm-keyword\">function<\/span> <span class=\"cm-def\">trackGTMEcommerce<\/span>() {\n    <span class=\"cm-keyword\">this<\/span>.<span class=\"cm-property\">_addTrans<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable\">addTrans<\/span>;\n    <span class=\"cm-keyword\">this<\/span>.<span class=\"cm-property\">_addItem<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable\">addItems<\/span>;\n    <span class=\"cm-keyword\">this<\/span>.<span class=\"cm-property\">_trackTrans<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable\">trackTrans<\/span>;\n}\n\n<span class=\"cm-keyword\">var<\/span> <span class=\"cm-def\">transaction<\/span> <span class=\"cm-operator\">=<\/span> {};\n<span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionProducts<\/span> <span class=\"cm-operator\">=<\/span> [];\n\n<span class=\"cm-keyword\">function<\/span> <span class=\"cm-def\">addTrans<\/span>(<span class=\"cm-def\">orderID<\/span>, <span class=\"cm-def\">store<\/span>, <span class=\"cm-def\">total<\/span>, <span class=\"cm-def\">tax<\/span>, <span class=\"cm-def\">shipping<\/span>, <span class=\"cm-def\">city<\/span>, <span class=\"cm-def\">state<\/span>, <span class=\"cm-def\">country<\/span>) {\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionId<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">orderID<\/span>;\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionAffiliation<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">store<\/span>;\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionTotal<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">total<\/span>;\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionTax<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">tax<\/span>;\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionShipping<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-variable-2\">shipping<\/span>;\n}\n\n\n<span class=\"cm-keyword\">function<\/span> <span class=\"cm-def\">addItems<\/span>(<span class=\"cm-def\">orderID<\/span>, <span class=\"cm-def\">sku<\/span>, <span class=\"cm-def\">product<\/span>, <span class=\"cm-def\">variation<\/span>, <span class=\"cm-def\">price<\/span>, <span class=\"cm-def\">quantity<\/span>) {\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">transactionProducts<\/span>.<span class=\"cm-property\">push<\/span>({\n        <span class=\"cm-string cm-property\">'id'<\/span>: <span class=\"cm-variable-2\">orderID<\/span>,\n            <span class=\"cm-string cm-property\">'sku'<\/span>: <span class=\"cm-variable-2\">sku<\/span>,\n            <span class=\"cm-string cm-property\">'name'<\/span>: <span class=\"cm-variable-2\">product<\/span>,\n            <span class=\"cm-string cm-property\">'category'<\/span>: <span class=\"cm-variable-2\">variation<\/span>,\n            <span class=\"cm-string cm-property\">'price'<\/span>: <span class=\"cm-variable-2\">price<\/span>,\n            <span class=\"cm-string cm-property\">'quantity'<\/span>: <span class=\"cm-variable-2\">quantity<\/span>\n    });\n}\n\n<span class=\"cm-keyword\">function<\/span> <span class=\"cm-def\">trackTrans<\/span>() {\n    <span class=\"cm-variable\">transaction<\/span>.<span class=\"cm-property\">event<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-string\">'transactionSuccess'<\/span>;\n    <span class=\"cm-variable\">dataLayer<\/span>.<span class=\"cm-property\">push<\/span>(<span class=\"cm-variable\">transaction<\/span>);\n}\n\n<span class=\"cm-keyword\">var<\/span> <span class=\"cm-def\">pageTracker<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-keyword\">new<\/span> <span class=\"cm-variable\">trackGTMEcommerce<\/span>();\n<span class=\"cm-tag cm-bracket\">&lt;\/<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<\/pre>\n\n\n\n<p>Save changes in Bigcommerce.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><a href=\"https:\/\/marketlytics.com\/contact-us\/\" target=\"_blank\" rel=\"noreferrer noopener\"><img decoding=\"async\" width=\"1024\" height=\"384\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-1024x384.png\" alt=\"\" class=\"wp-image-10789\" srcset=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-1024x384.png 1024w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-300x113.png 300w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-768x288.png 768w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-1536x576.png 1536w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Analytics-Expert-2048x768.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Setting up the transaction tag in GTM<\/strong><\/h2>\n\n\n\n<p>Okay, let\u2019s create a tag now.<\/p>\n\n\n\n<p>Go to your Google Tag Manager account and select create a new tag.<\/p>\n\n\n\n<p>Add the tag name as \u2018GA &#8211; Ecommerce Tracking\u2019<\/p>\n\n\n\n<p>Select tag type as \u2018Universal Analytics\u2019<\/p>\n\n\n\n<p>Select track type as \u2018Transaction\u2019<\/p>\n\n\n\n<p>Select Google Analytics settings variable<\/p>\n\n\n\n<p>Click the triggering option and create a new trigger<\/p>\n\n\n\n<p>Enter the trigger name as \u2018Purchase Complete\u2019<\/p>\n\n\n\n<p>Select trigger type as \u2018custom event\u2019<\/p>\n\n\n\n<p>Enter event name as \u2018transactionSuccess\u2019<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/6-transaction-trigger.png\" alt=\" transaction trigger gtm \"\/><\/figure><\/div>\n\n\n<p>Now, if you\u2019ve done this right, overall transaction tag and will look similar to the one below<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/7-transaction-tag.png\" alt=\" ecommerce tracking google tag manager \"\/><\/figure><\/div>\n\n\n<p>Save this tag and do not publish changes just yet. .<\/p>\n\n\n\n<p>Okay then, on we go.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Blocking Duplicate Transactions in Google Analytics<\/strong><\/h2>\n\n\n\n<p>One of the main reasons we are using Google Tag Manager is to block duplicate transactions in Google Analytics. If you have ever tried to implement <a href=\"https:\/\/support.bigcommerce.com\/articles\/Public\/Setting-Up-Google-Analytics\" target=\"_blank\" rel=\"noopener noreferrer\">Google Analytics ecommerce tracking<\/a>, you will see duplicate transactions in Google Analytics. This will make all your data inaccurate and will not match with the data recorded in your internal server.<\/p>\n\n\n\n<p>Setting up ecommerce tracking with Google Tag Manager will also result in duplicate transactions but we have an easy way to <a href=\"https:\/\/marketlytics.com\/blog\/cookies-with-google-tag-manager-use-cases\">block duplicate transactions via GTM<\/a> by creating a cookie.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Enable Ecommerce Tracking in Google Analytics<\/strong><\/h2>\n\n\n\n<p>Open your Google Analytics account, go to the admin panel.<\/p>\n\n\n\n<p>I\u2019ll wait for you to find it.<\/p>\n\n\n\n<p>Found it?<\/p>\n\n\n\n<p>Now, <a href=\"https:\/\/support.google.com\/analytics\/answer\/1009714?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">create a new view<\/a> and name it \u2018Test View\u2019.<\/p>\n\n\n\n<p>Under the view option, click Ecommerce Settings, and then, enable ecommerce.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/8.-enable-ecommerce-tracking.png\" alt=\" enable ecommerce tracking google analytics \"\/><\/figure><\/div>\n\n\n<p>Done?<\/p>\n\n\n\n<p>Save changes.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Setting up the Right currency in Google Analytics<\/strong><\/h2>\n\n\n\n<p>By default, the currency in Google Analytics is set to the US Dollar ($). If you don\u2019t sell stuff in the US, you will have to change the currency settings in Analytics. To do this, just click \u2018View Settings\u2019, now scroll down to \u2018currency\u2019. Select the correct currency from the drop-down, and you\u2019re done!<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/9.-select-currency.png\" alt=\" change currency Google Analytics \"\/><\/figure><\/div>\n\n\n<p>Now, save the changes.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Setting up Referral Exclusion list in Google Analytics<\/strong><\/h2>\n\n\n\n<p>If you are using PayPal or any other payment gateway, you will need to add the payment gateway domains to the referral exclusion list. Doing this will help Google Analytics attribute the conversion to the right traffic source.<\/p>\n\n\n\n<p>To do this, click on tracking info under property and click on referral exclusion list. Add all the domains to exclude from your referral traffic.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/3_image9.png\" alt=\" referral exclusion list google analytics \"\/><\/figure><\/div>\n\n\n<h2 class=\"wp-block-heading\"><strong>Testing Ecommerce Tracking<\/strong><\/h2>\n\n\n\n<p>Now, let\u2019s make sure that the ecommerce tracking works correctly. First, open preview mode in Google Tag Manager. Next, in a separate tab, open your website. Now, make a test purchase using your own credit card. You can also use a 100% discount coupon, if that suits you, just go with the easier option.<\/p>\n\n\n\n<p>Now you wait. Give it an hour, and then open your Google Analytics account. Select the test view. Now, navigate to <strong>Conversion &gt;&gt; Ecommerce &gt;&gt; Overview<\/strong> and set the date range to include today. If you are able to see the transaction data for the product you purchased, you are good to publish the tag manager changes. If however, you can\u2019t see the ecommerce data, check if you\u2019ve followed all the steps correctly, and wait a little more.<\/p>\n\n\n\n<p>Once you verify the ecommerce data, create one more view and name it, \u2018Master View\u2019. Enable ecommerce tracking, select currency, exclude bot traffic and use this view for data analysis.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Setting up Ecommerce Purchase Goal Funnel<\/strong><\/h2>\n\n\n\n<p>Ecommerce goals are not difficult to set up if you have a good understanding of Google Analytics. Navigate to your analytics admin, select the Master View and click goals.<\/p>\n\n\n\n<p>Create a new goal<\/p>\n\n\n\n<p>Select the goal setup as &#8216;custom&#8217;<\/p>\n\n\n\n<p>Enter the name as \u2018Purchase Completed\u2019<\/p>\n\n\n\n<p>Select the goal type as &#8216;destination&#8217;<\/p>\n\n\n\n<p>Enter the rest of the details as displayed in the image below<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/11-purchase-goal.png\" alt=\" ecommerce purchase funnel \"\/><\/figure><\/div>\n\n\n<p>Save this goal.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>What\u2019s Next?<\/strong><\/h2>\n\n\n\n<p>After setting up ecommerce tracking, it\u2019s time to find the relevant reports in Google Analytics. Most of the analytics users aren\u2019t aware of what and where to look for relevant data. Considering the difficulties our clients face, we came created an ecommerce data studio report which is available for everyone to use.<\/p>\n\n\n\n<p>This report will help you see the relevant ecommerce data without logging in Google Analytics.<\/p>\n\n\n\n<div class=\"sqs-block-button-container--center\" data-alignment=\"center\" data-button-size=\"medium\"><a class=\"sqs-block-button-element--medium sqs-block-button-element\" href=\"https:\/\/marketlytics.com\/blog\/google-data-studio-ecommerce-template\">Ecommerce Data Studio Report<\/a><\/div>\n\n\n\n<p>Click on the above button to <a href=\"https:\/\/support.google.com\/datastudio\/answer\/7175478?hl=en\" target=\"_blank\" rel=\"noopener noreferrer\">copy the template.<\/a><\/p>\n\n\n\n<p>Having trouble or anything to ask? Please let us know in the comments below.<\/p>\n\n\n\n<div class=\"poptin-embedded\" data-id=\"524d62d316aa4\">&nbsp;<\/div>\n","protected":false},"excerpt":{"rendered":"<p style=\"white-space: pre-wrap;\">Learn how to setup Google Analytics ecommerce tracking in Bigcommerce via Google Tag Manager. This guide will help you fix the duplicate transactions and setting up purchase goal funnel along with Data Studio ecommerce report. <\/p>\n","protected":false},"author":5,"featured_media":10499,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3,5],"tags":[49,61,66],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/470"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=470"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/470\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/10499"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=470"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=470"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=470"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}