{"id":117,"date":"2014-08-11T11:31:50","date_gmt":"2014-08-11T06:31:50","guid":{"rendered":"http:\/\/18.139.242.7\/2014\/08\/11\/exclude-wordpress-admins-from-google-universal-analytics\/"},"modified":"2014-08-11T11:31:50","modified_gmt":"2014-08-11T06:31:50","slug":"exclude-wordpress-admins-from-google-universal-analytics","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/exclude-wordpress-admins-from-google-universal-analytics\/","title":{"rendered":"Exclude All Wordpress Internal Traffic from Google Universal Analytics"},"content":{"rendered":"<p>We have been able to exclude GA code from running for logged in users. But what if we also want to exclude the future sessions of the internal users when they visit as logged out users? This is helpful because wordpress frequently logs out users and our main objective is to filter out internal users from our GA traffic regardless of whether they are logged in or not.<\/p>\n<p>This can be done by setting a <strong>user scope<\/strong> custom dimension on the user. This would then exclude all future sessions of the particular user from GA.<\/p>\n<h2>Create Custom Dimension<\/h2>\n<p>Login to Google Analytics &gt; Select your profile &gt; Go to Admin &gt; In the property row select Custom Definitions &gt; Custom Dimensions &gt; Click New Custom Dimension<\/p>\n<p>      <a href=\"https:\/\/d2oawfjgoy88bd.cloudfront.net\/50c9926ae4b006dd760ecb9c\/50c99288e4b006dd760ecbb6\/53e889460077911c01b4cc77.png?Expires=1407842048&#038;Signature=NAuDxkxFNz7~Ozm5dK16k3Ge4pFt-GKX9C51F20uRm3wcGBcaqQqXMr40zHOWk9iAN7zvEE2TmDroJFSnjJ05AOBFjXF03dSMm5Pdd9mTuY0dF~-jlev3UjQ73QJFueKc--P3UMQUX7mDjM38bg1IsQjg-CiCtqjAq9G4Kl3KVntJUGt0jRwSr99Ex2~RpVlxV9u65iGG3BvBzIaCcmAdmKn~9-rsetkFdWdIYQO6r3c4lchDLuJTMCQDjKp2T7MAsl9cMQdYiqJBYEbGzlkpBve5Szg7rrSmyuWrUgdHZotoEjoVtlTdLGRcu3QzsSo2O7peOJaxB3Kqd1hMv~lHw__&#038;Key-Pair-Id=APKAJHEJJBIZWFB73RSA\" ><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/To-do-this-1-1024x559.png\" alt=\"\"\/><\/a><\/p>\n<p id=\"yui_3_17_2_1_1449214113063_208233\">On the next page click Add a name (I used User Type) &gt; Set scope to User &gt; Hit Create &gt; then Done<\/p>\n<p>      <a href=\"https:\/\/d2oawfjgoy88bd.cloudfront.net\/50c9926ae4b006dd760ecb9c\/50c99288e4b006dd760ecbb6\/53e8892a0077911bfbb16b05.png?Expires=1407842120&#038;Signature=My203KM8~HJDR0rud-im2eHKiLRK0oQ2M4zRuDgPzGWetIcvUF-8kRyiR6gzDG08nfMn4af6CGrUBaU69ix-wiMq-gkgsGJY66VEEv5JzjWeroZZpeDAYrvzTWpyhpjlb267Ghr3nU0877~EC~CCvLVjLX9tvM-imHvhhyATN2KsI3nCBJkBsh8CXplaJ6ASHhqNZ51W6UvwGpeZaHpS72NI4rPGH5wKEb7sIKxS929M17YTH5-aWcKscQf81nW3mcvTf5vM7CVRn55n6oFJ22ZxobCcD1YQNSEjBdD1fBCQwTYoJDwUGGL-hpI5ncLziuh6QzIWxBUsKMjkCAlR5g__&#038;Key-Pair-Id=APKAJHEJJBIZWFB73RSA\" ><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/To-do-this-2.png\" alt=\"\"\/><\/a><\/p>\n<p>On the screen now note the <em>Index<\/em> of your newly created custom dimension. Got it? Next Within your wordpress template add this to footer.php<\/p>\n<pre class=\"source-code\"><span class=\"cm-meta\">&lt;?php<\/span> <span class=\"cm-meta\">if ($user_ID) : ?&gt;<\/span>\n<span class=\"cm-tag cm-bracket\">&lt;<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<span class=\"cm-comment\">\/\/ enter index below<\/span>\n<span class=\"cm-keyword\">var<\/span> <span class=\"cm-variable\">dimIndex<\/span> <span class=\"cm-operator\">=<\/span> <span class=\"cm-number\">1<\/span>;\n \n<span class=\"cm-comment\">\/\/ set custom dimension<\/span>\n<span class=\"cm-variable\">ga<\/span>(<span class=\"cm-string\">'set'<\/span>, <span class=\"cm-string\">'dimension'<\/span><span class=\"cm-operator\">+<\/span><span class=\"cm-variable\">dimIndex<\/span>, <span class=\"cm-string\">'Registered User'<\/span>);\n<span class=\"cm-comment\">\/\/ send data to GA<\/span>\n<span class=\"cm-variable\">ga<\/span>(<span class=\"cm-string\">'send'<\/span>, <span class=\"cm-string\">'event'<\/span>, <span class=\"cm-string\">'User Type'<\/span>, <span class=\"cm-string\">'Registered User'<\/span>, {<span class=\"cm-string cm-property\">'nonInteraction'<\/span>: <span class=\"cm-number\">1<\/span>});\n<span class=\"cm-tag cm-bracket\">&lt;\/<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<span class=\"cm-meta\">&lt;?php<\/span> <span class=\"cm-meta\">endif; ?&gt;<\/span><\/pre>\n<p>On the line var dimIndex = 1; change the number to the Index of custom dimension you created.<\/p>\n<h2>Filter Users With Custom Dimension Value<\/h2>\n<p>Finally create a filter in your google analytics view to exclude Users who have this custom dimension value.<\/p>\n<p>Going forward any user who has logged in to the site once will be excluded from your Analytics view. This can be used in conjunction with IP exclude filters to make sure any internal users are excluded.<\/p>\n<div style=\"width: 830px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/d2oawfjgoy88bd.cloudfront.net\/50c9926ae4b006dd760ecb9c\/50c99288e4b006dd760ecbb6\/53e889590077911c01b4cc7c.png?Expires=1407842165&#038;Signature=fCJIV3bkoFv3DcOer2V7uaNM2L9ntINCeI1rsqW0Slagv5PZtBD76~n6CNMxFiOZmVw51SxPFA2Kzqe9SzphwXaCFXbEIfCeyz-hpi6RIcFKY7v8YKRiB9Jayy1RHI9esMoPvMoeKXFM6BNgflMi77oK15pLB4SNu0wBFswELbiLprihkQYDpr2AWW~~C7htb02iAnZ8ooH06WDS6Zjc9yO4iZV3tLL2w5NtWsoRMcgoF6fwy7ReBU-CV1GV4JJe3-lRH6G35nsNTZFrAv3wh1PqwRR0QcAKmTWvoq1ecoT2Fs42oyZSPp2Gh8PN~onPBTCMt95w1-DCuBzGS0hYFw__&#038;Key-Pair-Id=APKAJHEJJBIZWFB73RSA\" ><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/562_image-asset.png\" alt=\" Filter Custom Dimension \"\/><\/a><p class=\"wp-caption-text\">Filter Custom Dimension<\/p><\/div>\n<p id=\"yui_3_17_2_1_1449214113063_208263\">ps. this will exclude any users that have logged in once. So if you are a membership site or a wordpress site which creates accounts for external users this method should not be used.<\/p>\n","protected":false},"excerpt":{"rendered":"<p><span style=\"font-size:13px\">Here is a step by step guide to make your Google Analytic reports more accurate by excluding internal traffic in Wordpress. A sample code is also included.<\/span><\/p>\n","protected":false},"author":5,"featured_media":178,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3],"tags":[61,76,85,108,116],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/117"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=117"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/117\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/178"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=117"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=117"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=117"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}