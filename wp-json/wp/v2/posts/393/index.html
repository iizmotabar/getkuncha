{"id":393,"date":"2017-12-04T12:47:25","date_gmt":"2017-12-04T07:47:25","guid":{"rendered":"http:\/\/18.139.242.7\/2017\/12\/04\/how-to-build-a-data-studio-community-connector\/"},"modified":"2023-04-05T01:10:14","modified_gmt":"2023-04-05T01:10:14","slug":"how-to-build-a-data-studio-community-connector","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/how-to-build-a-data-studio-community-connector\/","title":{"rendered":"How to Build a Looker Studio Community Connector"},"content":{"rendered":"<p>Looker Studio Community Connectors are community developed connectors that enable access to a variety of data sources directly from within looker studio. Using a Community Connector, we can pull in data and use them in our reports and dashboards. A Connector can pull in data from sources like social media platforms, search engines, advertisements statistics, public or open data sets, private company data, and any source of data which can be accessed using Apps Script.<\/p>\n<p>In this blog post we will be learning how to create a Currency Exchange Rates Community Connector from scratch.<\/p>\n<h2><strong>Prerequisites:<\/strong><\/h2>\n<ol>\n<li>Get the API Key for the source (if required). We will be using API from <a href=\"https:\/\/www.fixer.io\/\" target=\"_blank\" rel=\"noopener noreferrer\">Fixer.io<\/a>\u00a0which has a public API so we do not need an API Key<\/li>\n<li>Request Developer Access from Google to deploy Community Connector. This may take few hours but without having Developer Access, we can\u2019t deploy the connector.<\/li>\n<\/ol>\n<h2><strong>Step 1: Setup Apps Script<\/strong><\/h2>\n<p>Visit <a href=\"https:\/\/script.google.com\" target=\"_blank\" rel=\"noopener noreferrer\">Google Apps Script<\/a>. This is a scripting tool where we will be writing our code. Create a new Project. Delete everything from Code.gs file.<\/p>\n<h2><strong>Step 2: \u00a0Create Skeleton<\/strong><\/h2>\n<p>Next we will create the skeleton of the connector. Every connector has 4 required functions.<\/p>\n<ol>\n<li>getConfig() \/\/ For any user defined configs<\/li>\n<li>getSchema() \/\/ To get the schema for any request<\/li>\n<li>getData() \/\/ Fetch and return data for any request<\/li>\n<li>getAuthType() \/\/ Identify the authentication method<\/li>\n<\/ol>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/10_image6.png\" alt=\" create connector skelton \" \/><\/p>\n<h2><strong>Step 3: Defining Configs getDate()<\/strong><\/h2>\n<p>We will define our configurations in the getConfig function of the connector. We can have multiple configurations as per our needs. For our connector, we will display an information message and ask for base and interesting currencies of the users. We can take user\u2019s input in the form of text, multiline text, single and multiple select. \u00a0Our configuration looks like this:<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/7_image8.png\" alt=\" define configuration \" \/><\/p>\n<h2><strong>Step 4: Defining Schema getSchema()<\/strong><\/h2>\n<p>We will define our data schema for any given request in the getSchema function of the connector. This is typically an array of objects. We can also make use of the inputs from users which will be available in the request.configParams property which we will get as the parameter of this function. As per your requirements, the schema can be fixed or may be provided dynamically at the request time.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/19_image3.png\" alt=\" define data schema \" \/><\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/20_image2.png\" alt=\" get schema \" \/><\/p>\n<h2><strong>Step 5: Fetch the data getData()<\/strong><\/h2>\n<p>This is a function where we will make our API call and fetch the data from any given source. Once the data has been fetched, we will configure or parse it according to the schema and return it back in an object form with the schema.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/20_image2.png\" alt=\" fetch data \" \/><\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/9_image5.png\" alt=\" fetch data with urlfetchapp \" \/><\/p>\n<h2><strong>Step 6: Setup authentication<\/strong><\/h2>\n<p>This is a function where we will define our authentication, if any. In our connector we do not need any authentication so we return \u2018NONE\u2019 here:<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/6_image9.png\" alt=\" define authentication \" \/><\/p>\n<h3><strong>Few Notes:<\/strong><\/h3>\n<ol>\n<li>Apps Script does not support ES6 as of now<\/li>\n<li>Field name can\u2019t contain &#8211; or _ in the schema<\/li>\n<li>Names of four key functions must be as they have been described above<\/li>\n<\/ol>\n<h2><strong>Step 7: Complete the project manifest<\/strong><\/h2>\n<p>Click on <strong>View<\/strong><strong> &gt; Show manifest file<\/strong> to open it. Please note that you need Developer Access to see this option in apps script. Add the name and other details to your manifest file and save it. Required fields are \u00a0name, logoUrl, company, companyURL, addonURL, supportURL, and description.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/9_image4.png\" alt=\" complete manifest \" \/><\/p>\n<h2><strong>Step 8: Deploy the connector <\/strong><\/h2>\n<p>Save your Apps Script project. Click on <strong>Publish &gt; Manage Deployments<\/strong>. The click on Get ID and open the link.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/8_image7.png\" alt=\" deploy connector \" \/><\/p>\n<h2><strong>Step 9: Use the connector in Looker Studio<\/strong><\/h2>\n<p>Configure the connector by providing the necessary fields. Grant authorization and then click Connect on the top right corner.<\/p>\n<p>Complete code for this connector is available here: <a href=\"https:\/\/goo.gl\/r1W3df\" target=\"_blank\" rel=\"noopener noreferrer\">https:\/\/goo.gl\/r1W3df<\/a><\/p>\n<p>Looker Studio Community Connector a powerful tool to pull the data in desired form and then be displayed in the form of reports, or dashboards using Looker Studio. Here is how we built our first <a href=\"https:\/\/marketlytics.com\/blog\/using-google-data-studio-for-tracking-teamwork\">community connector for project management data<\/a>.<\/p>\n<h3><strong>Related Posts:<\/strong><\/h3>\n<ol dir=\"ltr\">\n<li><a href=\"https:\/\/marketlytics.com\/blog\/google-data-studio-connectors\">Looker Studio Connectors: Why &amp; How to Use<\/a><\/li>\n<li><a href=\"https:\/\/marketlytics.com\/blog\/google-data-studio-tutorial\">Looker Studio Tutorial for Beginners &amp; Novices<\/a><\/li>\n<li><a href=\"https:\/\/marketlytics.com\/blog\/google-data-studio-template-for-content-marketers\">Free Google Looker Studio Template for Content Marketers<\/a><\/li>\n<\/ol>\n<div class=\"poptin-embedded\" data-id=\"524d62d316aa4\"><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Learn how to build a data studio community connector using Apps Script. You can then deploy the connector to community connectors gallery and make available for others to use.&nbsp;<\/p>\n","protected":false},"author":5,"featured_media":10513,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3],"tags":[29,62],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/393"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=393"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/393\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/10513"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=393"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=393"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=393"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}