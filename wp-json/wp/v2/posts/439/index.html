{"id":439,"date":"2018-04-04T12:45:54","date_gmt":"2018-04-04T07:45:54","guid":{"rendered":"http:\/\/18.139.242.7\/2018\/04\/04\/google-tag-manager-environments\/"},"modified":"2022-10-25T16:10:41","modified_gmt":"2022-10-25T16:10:41","slug":"google-tag-manager-environments","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/google-tag-manager-environments\/","title":{"rendered":"The Ultimate Guide to Google Tag Manager Environments"},"content":{"rendered":"\n<h2 class=\"wp-block-heading\"><strong>Google Tag Manager Environments &#8211; A brief synopsis<\/strong><\/h2>\n\n\n\n<p>Google Tag Manager Environments simply happens to be multiple versions of the same container that can be used across multiple instances of the site.<\/p>\n\n\n\n<p>Let that sink in.<\/p>\n\n\n\n<p>Consider this example. Let\u2019s assume you have a website with a different version for development, staging, and QA. Now instead of creating separate GTM containers for each version, like you would normally do, you can set up separate environments within the same container, which will work independently on each version.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Diving into Environments head-first<\/strong><\/h2>\n\n\n\n<p>There are two types of environments in GTM. Custom environments and Default Environments. The default environments are pre-built and custom environments are built by people like you and I.<\/p>\n\n\n\n<p>To get started with environments, navigate to the admin tab.<\/p>\n\n\n\n<p>Found it? Beautiful! Now select environments under the container.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_1.png\" alt=\" access GTM environments \"\/><\/figure><\/div>\n\n\n<p>GTM by default offers two built-in environments, live, and latest. The live environment is already running on your production site so you don\u2019t need to create one.<\/p>\n\n\n\n<p>To create an environment for your staging or QA site, click on the new button under environments.<\/p>\n\n\n\n<p>Done?<\/p>\n\n\n\n<p>Now, enter a suitable name and an easy to understand description of the environment so other team members can easily find it.<\/p>\n\n\n\n<p>Before moving on, check enable debugging mode so you can view preview mode for testing.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_3.png\" alt=\" create a new environment \"\/><\/figure><\/div>\n\n\n<p>To add the staging code snippet on your staging site, click on the actions drop-down and click get snippet option.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_4.png\" alt=\" container code\u00a0 \"\/><\/figure><\/div>\n\n\n<p>Remember, this code snippet is different from the container snippet you added on all pages.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_5.png\" alt=\" GTM container code \"\/><\/figure><\/div>\n\n\n<p>You will have to put the environment code snippets similar to how you added the container codes. The first code snippet will go right after the opening head tag and the second will go right after the opening body tag.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><a href=\"https:\/\/marketlytics.com\/contact-us\/\" target=\"_blank\" rel=\"noreferrer noopener\"><img decoding=\"async\" width=\"1024\" height=\"384\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-1024x384.png\" alt=\"\" class=\"wp-image-10782\" srcset=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-1024x384.png 1024w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-300x113.png 300w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-768x288.png 768w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-1536x576.png 1536w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Tag-Manager-Expert-2048x768.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Connecting Google Analytics with GTM Environments &#8211; #togetherforever<\/strong><\/h2>\n\n\n\n<p>At this point, we have several Google Tag Manager environments. Generally, a standard website could have three different environments:<\/p>\n\n\n\n<ol><li>Dev<\/li><li>Production<\/li><li>Live<\/li><\/ol>\n\n\n\n<p>It\u2019s common knowledge that we have different versions for testing and related tasks. It is highly recommended, to create a different property in Google Analytics, to test your website before setting it up to go live so that your live, and test stats don\u2019t get jumbled up.<\/p>\n\n\n\n<p>To manage this easily, variables in GTM are very handy.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\"><strong>How to enable the Environment Name Variable<\/strong><\/h3>\n\n\n\n<p>First, enable the built-in environment variable<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_7.png\" alt=\" environment name variable \"\/><\/figure><\/div>\n\n\n<h3 class=\"wp-block-heading\"><strong>Now let\u2019s Create Variables for Each GA Property<\/strong><\/h3>\n\n\n\n<p>To create a constant variable for each GA property in GTM:<\/p>\n\n\n\n<ul><li>First, navigate to variables<\/li><li>Now, create a new user-defined variable of type constant<\/li><li>Once, you\u2019ve done that, enter the GA tracking ID and save<\/li><li>Now, copy this variable and save other property IDs<\/li><li>And Voila! , you will have three constant type variables for each property<\/li><\/ul>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_6.png\" alt=\" GA IDs \"\/><\/figure><\/div>\n\n\n<h3 class=\"wp-block-heading\"><strong>Now, Create a LookUp Table Variable <\/strong><\/h3>\n\n\n\n<ul><li>Click on the variables section from the left menu and create a new user-defined variable.<\/li><li>Choose the variable type as lookup table<\/li><li>Select the input variable as environment name<\/li><li>Click on add a new row button<\/li><li>Add the analytics property variables as displayed in the image below<\/li><\/ul>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_8.png\" alt=\" lookup table variable \"\/><\/figure><\/div>\n\n\n<p>Make sure the input names on the left are similar to the environment names you created.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\"><strong>Lastly, Modify the Universal Analytics Tags<\/strong><\/h3>\n\n\n\n<p>Now the last step is to modify the existing universal analytics tag that you have created. Open the pageview universal analytics tag, and replace the tracking ID with the lookup table variable we created earlier.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_9.png\" alt=\" GA variables \"\/><\/figure><\/div>\n\n\n<p>This will allow the data from each environment to flow into each respective analytics property.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\"><strong>Sharing the preview mode &#8211; sharing is caring<\/strong><\/h3>\n\n\n\n<p>To share any environment in preview mode, click on actions, and select share link to get the preview mode link. This link will enable anyone to view the environment in preview mode.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_10.png\" alt=\" share environment link \"\/><\/figure><\/div>\n\n\n<h3 class=\"wp-block-heading\"><strong>Reset the preview link<\/strong><\/h3>\n\n\n\n<p>Now if at any point you do not want anyone to open the preview mode, you can easily reset the link which will disable the previous preview link. To do this, click the actions drop down and click reset environment.<\/p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"aligncenter\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_11.png\" alt=\" reset environment link \"\/><\/figure><\/div>\n\n\n<p>Confirm the action on the next step and the previous preview link will be replaced with a new one.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\"><strong>Conclusion<\/strong><\/h2>\n\n\n\n<p>As explained at the beginning of this article, creating Google Tag Manager environments are not necessary for all websites. Unless you have a dedicated development team, a quality assurance team for testing, you are good to go without having multiple environments.&nbsp;If however, you come across a different situation than the ones mentioned, do feel free to ask us in the comments below.<\/p>\n\n\n\n<h3 class=\"wp-block-heading\"><strong>Related Posts:&nbsp;<\/strong><\/h3>\n\n\n\n<p><a href=\"https:\/\/marketlytics.com\/blog\/google-tag-manager-migration-complete-guide\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>Hitch Free Google Tag Manager Migration in 5 Easy Steps<\/strong><\/a><\/p>\n\n\n\n<p><a href=\"#\"><strong>Setting Up Cookies with Google Tag Manager<\/strong><\/a><\/p>\n\n\n\n<p><a href=\"https:\/\/marketlytics.com\/blog\/bing-ads-conversion-tracking-and-remarketing-with-google-tag-manager\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>Bing Ads Conversion Tracking &amp; Remarketing with GTM<\/strong><\/a><\/p>\n\n\n\n<div class=\"poptin-embedded\" data-id=\"524d62d316aa4\">&nbsp;<\/div>\n","protected":false},"excerpt":{"rendered":"<p>Learn how to use Google Tag Manager environments for testing your website features before publishing them live. You will get to know how to create environments and use in multiple cases.&nbsp;<\/p>\n","protected":false},"author":5,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3],"tags":[66],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/439"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=439"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/439\/revisions"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=439"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=439"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=439"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}