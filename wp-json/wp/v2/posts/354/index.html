{"id":354,"date":"2017-09-25T03:32:43","date_gmt":"2017-09-24T22:32:43","guid":{"rendered":"http:\/\/18.139.242.7\/2017\/09\/25\/mixpanel-via-google-tag-manager\/"},"modified":"2017-09-25T03:32:43","modified_gmt":"2017-09-24T22:32:43","slug":"mixpanel-via-google-tag-manager","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/mixpanel-via-google-tag-manager\/","title":{"rendered":"How to Setup Mixpanel with Google Tag Manager?"},"content":{"rendered":"<p>If you are aware of <a href=\"https:\/\/marketlytics.com\/blog\/what-does-google-tag-manager-do\">what Google Tag Manager can do<\/a>, you would be interested to manage your website tags with GTM. It makes it easier for non-developers to get started with using analytics with marketing tools.<\/p>\n<p>This article will help you install Mixpanel with Google Tag Manager and track few major events like pageview, link clicks, and form submission.<\/p>\n<p>If you are reading this article, I am assuming that you already have a good knowledge of using Google Tag Manager and how it works. In case, you are new to Google Tag Manager, please go through the <a href=\"https:\/\/www.optimizesmart.com\/beginners-guide-google-tag-manager-v2\/\" target=\"_blank\" rel=\"noopener noreferrer\">beginner\u2019s guide<\/a>.<\/p>\n<h2><strong>Create a Mixpanel Account<\/strong><\/h2>\n<p>Creating a Mixpanel account is easy. If you haven\u2019t created an account yet, navigate to <a href=\"https:\/\/mixpanel.com\">https:\/\/mixpanel.com<\/a> and sign up for a new account.<\/p>\n<p>Once you sign up successfully, you will be landed to your dashboard where you will find Mixpanel tracking code.<\/p>\n<p>There are two ways to set up Mixpanel tracking, programmatic and codeless. We will follow the programmatic way. Copy the code that is displayed under the programmatic section.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/mixpanel-tracking-code.png\" alt=\" mixpanel js library \" \/><\/p>\n<p>Now we don\u2019t have to do anything in Mixpanel except copying the tracking code. Open Google Tag Manager in a new tab select the specific container.<\/p>\n<h2><strong>Create a Custom Tag<\/strong><\/h2>\n<p>There is no any built-in template for Mixpanel so we will create a custom tag and paste the Mixpanel tracking code. To create a custom tag, follow the steps below:<\/p>\n<ol>\n<li>Create a new tag<\/li>\n<li>Change the tag title to something descriptive i.e Mixpanel &#8211; Base Code &#8211; All Pages<\/li>\n<li>Select the tag type as <strong>Custom HTML<\/strong><\/li>\n<li>Paste the Mixpanel tracking code inside the HTML field<\/li>\n<li>Click advanced settings and change the tag firing option to <strong>Once per Page.<\/strong><\/li>\n<\/ol>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/custom-html-tag.png\" alt=\" add mixpanel via custom html tag \" \/><\/p>\n<p>Click on the triggering option and select <strong>All Pages<\/strong> default trigger.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/all-pages-trigger.png\" alt=\" all pages trigger \" \/><\/p>\n<p>Save and preview the tag to make sure it is firing.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/preview-mixpanel-tag.png\" alt=\" tag manager preview \" \/><\/p>\n<p>I have other tags too that are set to fire on pageview so tag to note here is Mixpanel, which is firing properly.<\/p>\n<p>We know that Mixpanel is an event-centric tool so if we have to track a simple pageview, we will have to define a pageview event.<\/p>\n<p>Let\u2019s add our first Mixpanel event.<\/p>\n<h2><strong>Setup Pageview Event<\/strong><\/h2>\n<p>To set up a pageview event, we will again create a custom HTML tag in GTM. we will use the Mixpanel.track method to track events. Follow the steps below to create a pageview tag.<\/p>\n<ol>\n<li>Create a new tag<\/li>\n<li>Rename the tag as Mixpanel &#8211; Event &#8211; Pageview<\/li>\n<li>Select tag type as Custom HTML<\/li>\n<li>Copy and paste the below code in HTML field<\/li>\n<\/ol>\n<pre class=\"source-code\"><span class=\"cm-tag cm-bracket\">&lt;<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n        <span class=\"cm-variable\">mixpanel<\/span>.<span class=\"cm-property\">track<\/span>(<span class=\"cm-string\">\"Pageview\"<\/span>, { \n                <span class=\"cm-string cm-property\">\"Page Path\"<\/span>: {{<span class=\"cm-variable\">Page<\/span> <span class=\"cm-variable\">Path<\/span>}}               \n         });\n<span class=\"cm-tag cm-bracket\">&lt;\/<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<\/pre>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/pageview-event.png\" alt=\" mixpanel pageveiw tag \" \/><\/p>\n<p>Click advanced settings &gt;&gt; tag sequencing and select the checkbox \u201cFire a tag before Mixpanel &#8211; Event &#8211; Pageview fires\u201d. Select Mixpanel &#8211; Base Code &#8211; All Pages<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/tag-sequencing.png\" alt=\" tag sequencing gtm \" \/><\/p>\n<p>This ensures the Mixpanel base code to fire before the event code fires.<\/p>\n<p>Select the All Pages trigger to fire this tag.<\/p>\n<p>Save the tag, refresh preview mode and reload your website to test the pageview event.<\/p>\n<p>Navigate back to Mixpanel account and click on the check button at the bottom if your account is receiving any events. If you followed the above steps properly, you will see the message \u201cYou are successfully sending data!\u201d<\/p>\n<p>Click on the next button to go to Mixpanel dashboard. Click on live view from the left panel.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/live-view.png\" alt=\" mixpanel live view \" \/><\/p>\n<p>You will see the pageview event in live view. Click on the event to see details of the event.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/pageview-event-live-view.png\" alt=\" pageview event live view \" \/><\/p>\n<p>If your purpose is to just track simple pageviews, you can go back to GTM and publish changes. Otherwise, you can continue reading to understand how to track button clicks and form submission tracking.<\/p>\n<h2><strong>Setup link Click Event<\/strong><\/h2>\n<p>Tracking any action with GTM is possible but one needs to have a good command over GTM variables and custom codes. We can track a unique link on any page or all links at once.<\/p>\n<p>Let\u2019s understand how to track a unique link click using GTM.<\/p>\n<p>First, you will have to make sure you have enabled all the built-in click variables.<\/p>\n<p>Find the unique id or class that is associated with the link you are going to track. For example, the link you are going to track is:<\/p>\n<p>&lt;a href=\u201d<a href=\"https:\/\/example.com\">https:\/\/example.com<\/a>\u201d id=\u201dread-more\u201d&gt;&lt;\/a&gt;<\/p>\n<p>Follow the steps below to create a trigger.<\/p>\n<ol>\n<li>Click Triggers from the left menu in tag manager<\/li>\n<li>Create a new trigger<\/li>\n<li>Rename the trigger<\/li>\n<li>Select the trigger type as Just Links<\/li>\n<li>Configure the trigger as displayed in the image below.<\/li>\n<\/ol>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/link-click-trigger.png\" alt=\" link click trigger \" \/><\/p>\n<p>Save the trigger.<\/p>\n<p>Now we will create the link click tag, that will send data to Mixpanel. Follow the steps below to create the tag.<\/p>\n<ol>\n<li>Create a new tag<\/li>\n<li>Rename the tag<\/li>\n<li>Select the tag type as Custom HTML<\/li>\n<li>Copy and paste the code below into the HTML field<\/li>\n<\/ol>\n<pre class=\"source-code\"><span class=\"cm-tag cm-bracket\">&lt;<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n  <span class=\"cm-variable\">mixpanel<\/span>.<span class=\"cm-property\">track<\/span>(<span class=\"cm-string\">\"LinkClick\"<\/span>, {\n    <span class=\"cm-string cm-property\">\"Click ID\"<\/span>:{{<span class=\"cm-variable\">Click<\/span> <span class=\"cm-variable\">ID<\/span>}}\n    });\n<span class=\"cm-tag cm-bracket\">&lt;\/<\/span><span class=\"cm-tag\">script<\/span><span class=\"cm-tag cm-bracket\">&gt;<\/span>\n<\/pre>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/readmore-code.png\" alt=\" link click custom html tag \" \/><\/p>\n<p>Click advanced settings &gt;&gt; tag sequencing and select the Mixpanel library to fire before the event tag.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/fire-mixpanel-library-before-event-tag.png\" alt=\" tag sequencing gtm \" \/><\/p>\n<p>Add the trigger we have created earlier.<\/p>\n<p>Save the tag.<\/p>\n<p>Refresh the preview mode and test your tag.<\/p>\n<p>Open Mixpanel insights to see which events are active and the number of times it fired.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/insights.png\" alt=\" mixpanel insights \" \/><\/p>\n<p>If the link click event is showing up in Mixpanel, navigate back to GTM and publish changes.<\/p>\n<h2><strong>Form Submission Event<\/strong><\/h2>\n<p>Tracking form submission in Mixpanel is not a difficult process. It\u2019s similar to how we track form submissions in Google Analytics. The only thing to replace is the tag type custom HTML and pass properties using JS code.<\/p>\n<p>Let\u2019s take an example of how tracking a subscription form that is placed on all pages of your website. Follow the steps to track a form submission:<\/p>\n<ol>\n<li>Create a new tag<\/li>\n<li>Rename the tag to something like \u201cMixpanel Event Subscription Form All Pages\u201d<\/li>\n<li>Select the tag type as custom HTML<\/li>\n<li>Copy and paste the below code in the HTML field<\/li>\n<\/ol>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/form-submission-tag.png\" alt=\" mixpanel form submission tag \" \/><\/p>\n<p><strong>Note:<\/strong> To help you understand I passed the same properties that we use to send data to Google Analytics i.e EventCategory, EventAction, EventLabel<\/p>\n<p>5. Create a new trigger<\/p>\n<p>6. Customize the trigger to submit track event on valid form submission<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/1_form-submission-trigger.png\" alt=\" form submission trigger \" \/><\/p>\n<p><strong>Note: <\/strong>if you are wondering about how I customized this trigger, please follow the article tracking <a href=\"https:\/\/marketlytics.com\/blog\/form-submission-tracking-google-tag-manager\">form submissions in Google Tag Manager<\/a>.<\/p>\n<p>7. Once you add the trigger, save the tag and preview to test the new tag.<\/p>\n<p>8. Open Mixpanel Live View to verify form submission is working.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/verify-form-submission.png\" alt=\" mixpanel event data \" \/><\/p>\n<p>As you can see in the above image, the properties we passed via custom HTML tag are displayed under your properties section.<\/p>\n<h2><strong>Bonus: View Top Performing Pages<\/strong><\/h2>\n<p>We have now tracked three types of events, pageview, link click, and form submission. Let\u2019s take a look at how we can use pageview event to view the top performing pages.<\/p>\n<p>Follow the steps below to view top performing pages.<\/p>\n<p>1. Click segments from the left menu<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/segments.png\" alt=\" mixpanel segments \" \/><\/p>\n<p>2. Select pageview from the events drop-down<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/event-pageview.png\" alt=\" segment by property \" \/><\/p>\n<p>3. From the properties drop-down, select page path<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/property-page-path.png\" alt=\" create segment by page path \" \/><\/p>\n<p>4.\u00a0Click on show button to display the chart and table<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/click-show.png\" alt=\" create segment by pagepath \" \/><\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/top-page-paths.png\" alt=\" top performing pages \" \/><\/p>\n<h2><strong>Conclusion<\/strong><\/h2>\n<p>Are you able to get data in your Mixpanel account? If you have any confusion, please ask me in the comments section below. If you are looking for a professional to take care of your Mixpanel account, please <a href=\"https:\/\/marketlytics.com\/contact\/lets-talk\">get in touch<\/a> with us.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Learn how to setup Mixpanel with Google Tag Manager and setup basic events like pageview, link click and form submission.&nbsp;<\/p>\n","protected":false},"author":5,"featured_media":356,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3,7],"tags":[85,86],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/354"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=354"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/354\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/356"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=354"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=354"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=354"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}