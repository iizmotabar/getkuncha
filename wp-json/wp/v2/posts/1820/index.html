{"id":1820,"date":"2017-12-06T13:09:22","date_gmt":"2017-12-06T08:09:22","guid":{"rendered":"http:\/\/18.139.242.7\/uncategorized\/page-hiding-snippet-google-tag-manager\/"},"modified":"2017-12-06T13:09:22","modified_gmt":"2017-12-06T08:09:22","slug":"page-hiding-snippet-google-tag-manager","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/uncategorized\/page-hiding-snippet-google-tag-manager\/","title":{"rendered":"How to Add Page Hiding Snippet via Google Tag Manager"},"content":{"rendered":"<p>After running some tests with Google Optimize, I come to know that page hiding snippet is quite important to add. If you are reading this, you might have experienced the page flicker problem.<\/p>\n<p>Page hiding snippet actually hides the page until the experiment is started. If you are displaying two versions of a single page, then this is strongly recommended to add. If you have added <a href=\"https:\/\/marketlytics.com\/blog\/install-google-optimize-via-google-tag-manager\">Google Optimize via Google Tag Manager<\/a>, then it\u2019s pretty tricky to add the hiding snippet.<\/p>\n<p>In this article, I will explain how to setup page hiding snippet via GTM. Most of the cases, adding page hiding snippet with Google Tag Manager doesn\u2019t work. So below is a step by step guide to overcoming the issues.<\/p>\n<h2><strong>Step1: Add the Page Hiding Snippet <\/strong><\/h2>\n<p>We are going to add the page hiding snippet directly to the website and not using Google Tag Manager. The page hiding snippet should be added before the GTM code. But before this, you will have to make a little modification.<\/p>\n<p>Open your Google Optimize account and copy the page hiding snippet<\/p>\n<p>Replace the optimize tracking ID with your GTM container ID.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/3_1.png\" alt=\" page hiding snippet \" \/><\/p>\n<p>Now, add the page hiding snippet right above the GTM code on your website.<\/p>\n<h2><strong>Step2: Create a Google Analytics Settings Variable<\/strong><\/h2>\n<p>If you don\u2019t have a GA settings variable, then create a new one. Make sure to add all the settings you need to add to this variable, like cross domain tracking, ecommerce&#8230;etc.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/2_2.png\" alt=\" google analytics settings variable \" \/><\/p>\n<p><strong>Now, add the same GA tracking variable to both the Google Analytics pageview and Optimize tags. <\/strong><\/p>\n<h2><strong>Step3: Remove the All Pages trigger from Optimize Tag<\/strong><\/h2>\n<p><strong>Open your Google Tag Manager container and remove the \u201call pages\u201d trigger that is added to the Google Optimize tag. <\/strong><\/p>\n<h2><strong>Step4: Set the Optimize tag to fire before GA Pageview tag<\/strong><\/h2>\n<p>Now, it is recommended that the optimize tag should fire before the analytics tag. To do this,<\/p>\n<p>Open the Google Analytics pageview tag<\/p>\n<p>Open the advanced settings<\/p>\n<p>Under the tag sequencing, set the optimize tag to fire before GA pageview.<\/p>\n<p><img decoding=\"async\" class=\"aligncenter\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/3_3.png\" alt=\" tag sequencing \" \/><\/p>\n<p>Save this tag.<\/p>\n<p>Open preview mode to test the tags are firing properly and publish changes. This should work in most cases. If have anything to say about this topic, please ping us directly on <a href=\"https:\/\/twitter.com\/MarketLytics\" target=\"_blank\" rel=\"noopener noreferrer\">Twitter<\/a>.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>learn how to add Google Optimize page hiding snippet via Google Tag Manager. Make sure to follow the steps listed here to set your A\/B test properly.&nbsp;<\/p>\n","protected":false},"author":5,"featured_media":2225,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[1],"tags":[64,66],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/1820"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=1820"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/1820\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/2225"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=1820"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=1820"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=1820"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}