{"id":179,"date":"2013-11-22T16:29:09","date_gmt":"2013-11-22T11:29:09","guid":{"rendered":"http:\/\/18.139.242.7\/2013\/11\/22\/setup-adwords-dynamic-remarketing-using-tag-manager\/"},"modified":"2022-10-25T14:52:00","modified_gmt":"2022-10-25T14:52:00","slug":"setup-adwords-dynamic-remarketing-using-tag-manager","status":"publish","type":"post","link":"https:\/\/marketlytics.com\/blog\/setup-adwords-dynamic-remarketing-using-tag-manager\/","title":{"rendered":"Setting up AdWords Dynamic Remarketing using Google Tag Manager"},"content":{"rendered":"\n<p>Remarketing is a powerful feature which allows you to sell to people who have already visited your site and are interested in your products.<\/p>\n\n\n\n<p>Using AdWords dynamic remarketing, you can take this a step further and advertise visitors the actual product they were interested in. Allowing you to customize your message based on the product they viewed or added to cart or even purchased (think complimentary products to upsell!).<\/p>\n\n\n\n<p>To do this sort of remarketing we need to collect a bit more structured data. This requires placing special tags on each of your pages. It requires you to link <a href=\"https:\/\/www.google.com\/retail\/merchant-center\/\" target=\"_blank\" rel=\"noopener noreferrer\">Google Merchant Centre<\/a> Account with Adwords. Details. The below post details how technical implementation can be done using google tag manager.<\/p>\n\n\n\n<h2 class=\"wp-block-heading\">Step 1: Add Tags to all your site pages<\/h2>\n\n\n\n<p>For Dynamic Tagging we need to tag each page on the site with tags. The tag will be built by building a js object. It needs to be added as early on the page as possible preferably right after opening body.<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">script<\/span><span class=\"cm-operator\">&gt;<\/span>\n <span class=\"cm-keyword\">var<\/span> <span class=\"cm-variable\">google_tag_params<\/span> <span class=\"cm-operator\">=<\/span> {\n  <span class=\"cm-string cm-property\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'purchase'<\/span>,       <span class=\"cm-comment\">\/\/set the pagetype value<\/span>\n  <span class=\"cm-string cm-property\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>, <span class=\"cm-string\">'books'<\/span>],   <span class=\"cm-comment\">\/\/ product category<\/span>\n  <span class=\"cm-string cm-property\">'ecomm_prodid'<\/span>: [<span class=\"cm-string\">'123A'<\/span>, <span class=\"cm-string\">'H456'<\/span>],      <span class=\"cm-comment\">\/\/ sku<\/span>\n  <span class=\"cm-string cm-property\">'ecomm_pname'<\/span>: [<span class=\"cm-string\">'Nexus'<\/span>,<span class=\"cm-string\">'Router'<\/span>],    <span class=\"cm-comment\">\/\/ product name <\/span>\n  <span class=\"cm-string cm-property\">'ecomm_pvalue'<\/span>: [<span class=\"cm-number\">99<\/span>, <span class=\"cm-number\">19.99<\/span>],      <span class=\"cm-comment\">\/\/ product value<\/span>\n  <span class=\"cm-string cm-property\">'ecomm_totalvalue'<\/span>: <span class=\"cm-string\">'118.99'<\/span>      <span class=\"cm-comment\">\/\/ total value<\/span>\n};\n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-string-2\">\/script&gt;<\/span><\/pre>\n\n\n\n<p>The <strong>ecomm_pagetype<\/strong> key is required and needs to be set for each page.<\/p>\n\n\n\n<p>The value for pagetype can be home, searchresults, category, product, cart, purchase, other<\/p>\n\n\n\n<p>All other fields can be set as needed and if not available can be left as blank quotes &#8221;<\/p>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>On the homepage<\/strong><\/p>\n\n\n\n<p>just set pagetype and leave other keys blank.<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'home'<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>On Category page set<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'category'<\/span>,\n<span class=\"cm-string\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>] <span class=\"cm-comment\">\/\/ category name, separate by commas if multiple cats<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>On Product page set<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'product'<\/span>, <span class=\"cm-comment\">\/\/set the value<\/span>\n<span class=\"cm-string\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>], <span class=\"cm-comment\">\/\/ product category<\/span>\n<span class=\"cm-string\">'ecomm_prodid'<\/span>: [<span class=\"cm-string\">'123A'<\/span>], <span class=\"cm-comment\">\/\/ sku<\/span>\n<span class=\"cm-string\">'ecomm_pname'<\/span>: [<span class=\"cm-string\">'Nexus'<\/span>], <span class=\"cm-comment\">\/\/ product name<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>Cart Page<\/strong><\/p>\n\n\n\n<p>Pass values for all items in the cart<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'cart'<\/span>,\n<span class=\"cm-string\">'ecomm_prodid'<\/span>: [<span class=\"cm-string\">'123A'<\/span>, <span class=\"cm-string\">'H456'<\/span>], <span class=\"cm-comment\">\/\/ id (sku)<\/span>\n<span class=\"cm-string\">'ecomm_pname'<\/span>: [<span class=\"cm-string\">'Nexus'<\/span>,<span class=\"cm-string\">'Book'<\/span>], <span class=\"cm-comment\">\/\/ product name<\/span>\n<span class=\"cm-string\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>, <span class=\"cm-string\">'books'<\/span>], <span class=\"cm-comment\">\/\/ category<\/span>\n<span class=\"cm-string\">'ecomm_pvalue'<\/span>: [<span class=\"cm-number\">599<\/span>, <span class=\"cm-number\">19.99<\/span>], <span class=\"cm-comment\">\/\/ individual product values<\/span>\n<span class=\"cm-string\">'ecomm_totalvalue'<\/span>: <span class=\"cm-string\">'118.99'<\/span> <span class=\"cm-comment\">\/\/ total cart value<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>Purchase<\/strong><\/p>\n\n\n\n<p>On order confirmation page add<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'purchase'<\/span>, <span class=\"cm-comment\">\/\/set the value<\/span>\n<span class=\"cm-string\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>, <span class=\"cm-string\">'books'<\/span>], <span class=\"cm-comment\">\/\/ product category<\/span>\n<span class=\"cm-string\">'ecomm_prodid'<\/span>: [<span class=\"cm-string\">'123A'<\/span>, <span class=\"cm-string\">'H456'<\/span>], <span class=\"cm-comment\">\/\/ sku<\/span>\n<span class=\"cm-string\">'ecomm_pname'<\/span>: [<span class=\"cm-string\">'Nexus'<\/span>,<span class=\"cm-string\">'Router'<\/span>], <span class=\"cm-comment\">\/\/ product name<\/span>\n<span class=\"cm-string\">'ecomm_pvalue'<\/span>: [<span class=\"cm-number\">99<\/span>, <span class=\"cm-number\">19.99<\/span>], <span class=\"cm-comment\">\/\/ product value<\/span>\n<span class=\"cm-string\">'ecomm_totalvalue'<\/span>: <span class=\"cm-string\">'118.99'<\/span> <span class=\"cm-comment\">\/\/ total value<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p><strong>All other pages set<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-string\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'other'<\/span><\/pre>\n\n\n\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;<\/p>\n\n\n\n<p>Below the tags we would add dataLayer which sends the data to Google Tag Manager. End result would look something like this for a product page:<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-operator\">&lt;!--<\/span> <span class=\"cm-variable\">Dynamic<\/span> <span class=\"cm-variable\">remarketing<\/span> <span class=\"cm-variable\">tag<\/span>  <span class=\"cm-variable\">should<\/span> <span class=\"cm-variable\">always<\/span> <span class=\"cm-variable\">be<\/span> <span class=\"cm-variable\">above<\/span> <span class=\"cm-variable\">dataLayer<\/span>.<span class=\"cm-property\">push<\/span> <span class=\"cm-operator\">--&gt;<\/span> \n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">script<\/span><span class=\"cm-operator\">&gt;<\/span><span class=\"cm-comment\">\/\/ &lt;![CDATA[<\/span>\n<span class=\"cm-keyword\">var<\/span> <span class=\"cm-variable\">google_tag_params<\/span> <span class=\"cm-operator\">=<\/span> {   \n<span class=\"cm-string cm-property\">'ecomm_pagetype'<\/span>: <span class=\"cm-string\">'product'<\/span>,  <span class=\"cm-comment\">\/\/set the value   <\/span>\n<span class=\"cm-string cm-property\">'ecomm_pcat'<\/span>: [<span class=\"cm-string\">'electronics'<\/span>],  <span class=\"cm-comment\">\/\/ product category   <\/span>\n<span class=\"cm-string cm-property\">'ecomm_prodid'<\/span>: [<span class=\"cm-string\">'123A'<\/span>],   <span class=\"cm-comment\">\/\/ sku    <\/span>\n<span class=\"cm-string cm-property\">'ecomm_pname'<\/span>: [<span class=\"cm-string\">'Nexus'<\/span>]    <span class=\"cm-comment\">\/\/ product name  <\/span>\n};\n<span class=\"cm-comment\">\/\/ ]]&gt;&lt;\/script&gt;<\/span><\/pre>\n\n\n\n<p><strong>Standard code for container on everypage<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">script<\/span><span class=\"cm-operator\">&gt;<\/span>\n<span class=\"cm-variable\">dataLayer<\/span> <span class=\"cm-operator\">=<\/span> [];\n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-string-2\">\/script&gt;<\/span>\n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">script<\/span><span class=\"cm-operator\">&gt;<\/span>\n<span class=\"cm-variable\">YOUR<\/span> <span class=\"cm-variable\">GTM<\/span> <span class=\"cm-variable\">container<\/span> <span class=\"cm-variable\">code<\/span>\n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-string-2\">\/script&gt;<\/span><\/pre>\n\n\n\n<p><strong>Send data to gtm via dataLayer.push<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-preformatted\"><span class=\"cm-operator\">&lt;<\/span><span class=\"cm-variable\">script<\/span><span class=\"cm-operator\">&gt;<\/span>\n<span class=\"cm-variable\">dataLayer<\/span>.<span class=\"cm-property\">push<\/span> ({   \n <span class=\"cm-string cm-property\">'event'<\/span>:<span class=\"cm-string\">'remarketingTriggered'<\/span>,\n <span class=\"cm-string cm-property\">'google_tag_params'<\/span>: <span class=\"cm-variable\">window<\/span>.<span class=\"cm-property\">google_tag_params<\/span> \n});\n<span class=\"cm-operator\">&lt;<\/span><span class=\"cm-string-2\">\/script&gt;<\/span><\/pre>\n\n\n\n<figure class=\"wp-block-image size-large\"><a href=\"https:\/\/marketlytics.com\/contact-us\/\" target=\"_blank\" rel=\"noreferrer noopener\"><img decoding=\"async\" width=\"1024\" height=\"384\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-1024x384.png\" alt=\"\" class=\"wp-image-10780\" srcset=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-1024x384.png 1024w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-300x113.png 300w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-768x288.png 768w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-1536x576.png 1536w, https:\/\/marketlytics.com\/wp-content\/uploads\/2022\/10\/Google-Ads-Expert-1-2048x768.png 2048w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/figure>\n\n\n\n<h2 class=\"wp-block-heading\">Step 2: Google Tag Manager setup<\/h2>\n\n\n\n<p>Next step is to setup remarketing tag in GTM and specify rules and variables to trigger them.<\/p>\n\n\n\n<p><strong>Tag:<\/strong><\/p>\n\n\n\n<p>Create a new tag in your GTM container. In the next step select Adwords Remarketing as the tag type.<\/p>\n\n\n\n<p>Go to your adwords account and create a new remarketing tag. &nbsp;Here is <a href=\"https:\/\/www.google.com\/think\/products\/new-remarketing-tag.html\" target=\"_blank\" rel=\"noopener noreferrer\">how to create a remarketing tag<\/a>.<\/p>\n\n\n\n<p>From the tag get your <strong>Conversion ID<\/strong> and <strong>Conversion Label<\/strong>.<\/p>\n\n\n\n<p><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/dynamic_remarketing_gtm_id_label-300x77.png\" alt=\" conversion id &amp; conversion label \"> conversion id &amp; conversion label<\/p>\n\n\n\n<p><strong>Variable:<\/strong><\/p>\n\n\n\n<p>Next we need to tell the tag where to get the product information we have specified on the page. To do this we&#8217;ll create a variable. In custom parameter section select &#8216;Use Data Layer Variable&#8217;.<\/p>\n\n\n\n<p>In Data Layer Variable select new variable.<\/p>\n\n\n\n<p>On the popup select Variable Type: Data Layer Variable. Name the variable google_tag_params and use Data Layer Variable<\/p>\n\n\n\n<p>Name: google_tag_params<\/p>\n\n\n\n<p><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/563_image-asset.png\" alt=\" Datalayer variable name \"> Datalayer variable name<\/p>\n\n\n\n<p id=\"yui_3_17_2_1_1449214113063_249856\">End result will look something like this:<\/p>\n\n\n\n<p><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/564_image-asset.png\" alt=\" adwords dynamic remarketing tag \"> adwords dynamic remarketing tag<\/p>\n\n\n\n<p id=\"yui_3_17_2_1_1449214113063_249864\"><strong>Rule:<\/strong><\/p>\n\n\n\n<p id=\"yui_3_17_2_1_1449214113063_249868\">Now we need a rule to tell gtm when to trigger the tag. Click Add Rule to Fire Tag. On popup select Create new rule.<\/p>\n\n\n\n<p id=\"yui_3_17_2_1_1449214113063_249871\">Since we have added the tags to every page Specify a rule that fires the tag on all pages of your domain. Create a rule with &nbsp;<strong> {{event}} <em>contains<\/em> remarketingTriggered <\/strong> And save the rule.<\/p>\n\n\n\n<p><a href=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2015\/12\/img-5.png\"><img decoding=\"async\" src=\"https:\/\/marketlytics.com\/wp-content\/uploads\/2020\/03\/565_image-asset.png\" alt=\"gtm_event_for_adwords_dynamic_remarketing\"><\/a> gtm_event_for_adwords_dynamic_remarketing<\/p>\n\n\n\n<p>Now just save the tag , create a new version of container and publish it and you&#8217;ll be done. &nbsp;Get cracking with creating new tailored ads for your customers and see your sales go up :).<\/p>\n\n\n\n<p>This should help you get started. Let us know how it goes in the comments.<\/p>\n\n\n\n<div class=\"poptin-embedded\" data-id=\"524d62d316aa4\">&nbsp;<\/div>\n","protected":false},"excerpt":{"rendered":"<p><span style=\"font-size:13px\">Learn setting up Adwords Dynamic Remarketing tag using &#8216;Tag Manger&#8217;. Allowing you to personalize advertising to users who have already visited your site.<\/span><\/p>\n","protected":false},"author":5,"featured_media":181,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"content-type":"","footnotes":""},"categories":[3],"tags":[46,66,67,85],"acf":[],"aioseo_notices":[],"_links":{"self":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/179"}],"collection":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/users\/5"}],"replies":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/comments?post=179"}],"version-history":[{"count":0,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/posts\/179\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media\/181"}],"wp:attachment":[{"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/media?parent=179"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/categories?post=179"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/marketlytics.com\/wp-json\/wp\/v2\/tags?post=179"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}